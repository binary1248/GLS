<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>GLS: sync Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GLS
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">GL Stuff - A library aimed at reducing the boilerplate OpenGL code you always have to write.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classgls_1_1sync.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classgls_1_1sync-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">sync Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class encapsulating an OpenGL sync object.  
 <a href="classgls_1_1sync.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="sync_8hpp_source.html">sync.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac95792d19ae51b2fca46c4f69297c813"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgls_1_1sync.html#ac95792d19ae51b2fca46c4f69297c813">sync</a> ()</td></tr>
<tr class="memdesc:ac95792d19ae51b2fca46c4f69297c813"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#ac95792d19ae51b2fca46c4f69297c813">More...</a><br /></td></tr>
<tr class="separator:ac95792d19ae51b2fca46c4f69297c813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9d4d828d7896d3ab3b8c6ba3c439ef3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgls_1_1sync.html#ab9d4d828d7896d3ab3b8c6ba3c439ef3">~sync</a> ()</td></tr>
<tr class="memdesc:ab9d4d828d7896d3ab3b8c6ba3c439ef3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#ab9d4d828d7896d3ab3b8c6ba3c439ef3">More...</a><br /></td></tr>
<tr class="separator:ab9d4d828d7896d3ab3b8c6ba3c439ef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf25f77f348f00d57b4fd9a2e5e340f2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgls_1_1sync.html#acf25f77f348f00d57b4fd9a2e5e340f2">sync</a> (<a class="el" href="classgls_1_1sync.html">sync</a> &amp;&amp;other)</td></tr>
<tr class="memdesc:acf25f77f348f00d57b4fd9a2e5e340f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move constructor.  <a href="#acf25f77f348f00d57b4fd9a2e5e340f2">More...</a><br /></td></tr>
<tr class="separator:acf25f77f348f00d57b4fd9a2e5e340f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67ed4c5cfe1765d49fba688837cfa8e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgls_1_1sync.html">sync</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgls_1_1sync.html#a67ed4c5cfe1765d49fba688837cfa8e0">operator=</a> (<a class="el" href="classgls_1_1sync.html">sync</a> &amp;&amp;other)</td></tr>
<tr class="memdesc:a67ed4c5cfe1765d49fba688837cfa8e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move assignment operator.  <a href="#a67ed4c5cfe1765d49fba688837cfa8e0">More...</a><br /></td></tr>
<tr class="separator:a67ed4c5cfe1765d49fba688837cfa8e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef11ed8cbb4fdeb845d0860e525fb582"><td class="memItemLeft" align="right" valign="top">GLsync&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgls_1_1sync.html#aef11ed8cbb4fdeb845d0860e525fb582">name</a> () const </td></tr>
<tr class="memdesc:aef11ed8cbb4fdeb845d0860e525fb582"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the OpenGL name of this sync object.  <a href="#aef11ed8cbb4fdeb845d0860e525fb582">More...</a><br /></td></tr>
<tr class="separator:aef11ed8cbb4fdeb845d0860e525fb582"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f9d39f8cecd6bcb70ada2b9e933eb1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgls_1_1sync.html#a7f9d39f8cecd6bcb70ada2b9e933eb1e">insert</a> ()</td></tr>
<tr class="memdesc:a7f9d39f8cecd6bcb70ada2b9e933eb1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert into the command queue.  <a href="#a7f9d39f8cecd6bcb70ada2b9e933eb1e">More...</a><br /></td></tr>
<tr class="separator:a7f9d39f8cecd6bcb70ada2b9e933eb1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ee996a96c9889e656cc2f83eb2f8b02"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgls_1_1sync.html#a9ee996a96c9889e656cc2f83eb2f8b02">wait</a> (GLuint64 timeout)</td></tr>
<tr class="memdesc:a9ee996a96c9889e656cc2f83eb2f8b02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for the sync to expire.  <a href="#a9ee996a96c9889e656cc2f83eb2f8b02">More...</a><br /></td></tr>
<tr class="separator:a9ee996a96c9889e656cc2f83eb2f8b02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaed3caa70c060c44deef059e311cfa5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgls_1_1sync.html#acaed3caa70c060c44deef059e311cfa5">expired</a> ()</td></tr>
<tr class="memdesc:acaed3caa70c060c44deef059e311cfa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the current sync object has expired.  <a href="#acaed3caa70c060c44deef059e311cfa5">More...</a><br /></td></tr>
<tr class="separator:acaed3caa70c060c44deef059e311cfa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a130d68a0966a72007e13e72f8736de19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgls_1_1sync.html#a130d68a0966a72007e13e72f8736de19">server_wait</a> ()</td></tr>
<tr class="memdesc:a130d68a0966a72007e13e72f8736de19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make server execution wait for this sync to expire.  <a href="#a130d68a0966a72007e13e72f8736de19">More...</a><br /></td></tr>
<tr class="separator:a130d68a0966a72007e13e72f8736de19"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class encapsulating an OpenGL sync object. </p>
<p>A <a class="el" href="classgls_1_1sync.html" title="Class encapsulating an OpenGL sync object. ">gls::sync</a> is an object that encapsulates an OpenGL sync object.</p>
<p>Unlike other objects in GLS, the underlying sync is <em>not</em> generated at object construction. It is however, deleted at destruction. A new sync is generated each time the <a class="el" href="classgls_1_1sync.html#a7f9d39f8cecd6bcb70ada2b9e933eb1e" title="Insert into the command queue. ">insert()</a> method is called.</p>
<p><a class="el" href="classgls_1_1sync.html" title="Class encapsulating an OpenGL sync object. ">gls::sync</a> objects are move-only.</p>
<p>Sync objects are relatively simple to use. One simply creates them, inserts them into the command queue and either waits or periodically checks to see if they have expired. The fact that they have expired provides valuable information required for proper synchronization of other OpenGL code.</p>
<p>Example usage: </p><div class="fragment"><div class="line"><span class="keyword">auto</span> <a class="code" href="classgls_1_1sync.html#ac95792d19ae51b2fca46c4f69297c813">sync</a> = <a class="code" href="classgls_1_1sync.html">gls::sync</a>();</div>
<div class="line"></div>
<div class="line"><span class="keyword">auto</span> buffer = <a class="code" href="classgls_1_1buffer.html">gls::buffer&lt;GL_ARRAY_BUFFER, GL_STREAM_DRAW&gt;</a>();</div>
<div class="line"><span class="keyword">auto</span> write_data = std::vector&lt;char&gt;( 256000000, 0 );</div>
<div class="line">buffer.data( write_data.<a class="code" href="classgls_1_1buffer.html#af6a14923615a6fd7034d331445d0b7b0">size</a>(), write_data.<a class="code" href="classgls_1_1buffer.html#a1f60c61aba66fea19b70e842d1c3aebb">data</a>() );</div>
<div class="line"></div>
<div class="line">... <span class="keywordflow">do</span> stuff that depends on buffer<span class="stringliteral">&#39;s data ...</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">sync.insert();</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">... do some other stuff to give the commands time to complete ...</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">if( sync.expired() ) {</span></div>
<div class="line"><span class="stringliteral">    ... all operations that depend on buffer have completed ...</span></div>
<div class="line"><span class="stringliteral">}</span></div>
</div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac95792d19ae51b2fca46c4f69297c813"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgls_1_1sync.html">sync</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>

</div>
</div>
<a class="anchor" id="ab9d4d828d7896d3ab3b8c6ba3c439ef3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classgls_1_1sync.html">sync</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<a class="anchor" id="acf25f77f348f00d57b4fd9a2e5e340f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgls_1_1sync.html">sync</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgls_1_1sync.html">sync</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>Other sync that is being moved from </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a67ed4c5cfe1765d49fba688837cfa8e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgls_1_1sync.html">sync</a>&amp; operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgls_1_1sync.html">sync</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move assignment operator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>Other sync that is being assigned from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>*this </dd></dl>

</div>
</div>
<a class="anchor" id="aef11ed8cbb4fdeb845d0860e525fb582"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GLsync name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the OpenGL name of this sync object. </p>
<dl class="section return"><dt>Returns</dt><dd>OpenGL name of this sync object </dd></dl>

</div>
</div>
<a class="anchor" id="a7f9d39f8cecd6bcb70ada2b9e933eb1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void insert </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert into the command queue. </p>
<p>This creates a new fence sync object and inserts it into the OpenGL command queue. Any previous sync object managed by this <a class="el" href="classgls_1_1sync.html" title="Class encapsulating an OpenGL sync object. ">gls::sync</a> object is deleted prior to the creation of the new one. </p>

</div>
</div>
<a class="anchor" id="a9ee996a96c9889e656cc2f83eb2f8b02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool wait </td>
          <td>(</td>
          <td class="paramtype">GLuint64&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for the sync to expire. </p>
<p>If the passed timeout value is not 0, this method will only return once the timeout has passed, the sync expires or an error occurs. In the case the sync expires, either within the timeout, or prior to this method being called, true will be returned. In all other cases false will be returned.</p>
<p>Be aware that although timeout is specified in nanoseconds, the precision is not guaranteed to be that high. This method will return once <b>at least</b> that much time has passed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>Time to wait for the sync to expire in nanoseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if this object expired upon returning, false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="acaed3caa70c060c44deef059e311cfa5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool expired </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the current sync object has expired. </p>
<p>This object becomes expired when the GL server completes execution of all commands prior to the location where this object was inserted into the command queue. Upon expiration, the underlying sync object is not yet deleted. It is only deleted when this object is destroyed, or a new sync object is to be inserted into the OpenGL command queue.</p>
<dl class="section return"><dt>Returns</dt><dd>true if this object is expired, false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a130d68a0966a72007e13e72f8736de19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void server_wait </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make server execution wait for this sync to expire. </p>
<p>After calling this method, the server will not receive any new commands from the client until the sync has expired.</p>
<p>Because it is required, the client command queue is automatically flushed prior to waiting. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</body>
</html>
